{% extends "base.html" %}
{% block content %}
<h2>All Tasks</h2>

<form method="get" class="mb-3">
  {{ search_form.q }}
  <button class="btn btn-primary" type="submit">
    Search
  </button>
  <a href="{% url 'drones:task-create' %}"
     class="btn btn-success float-end">
    [+ Create Task]
  </a>
</form>

<table class="table table-striped">
  <thead>
  <tr>
    <th>
      ID
    </th>
    <th>
      Name
    </th>
    <th>
      Deadline
    </th>
    <th>
      Done
    </th>
    <th>
      Actions
    </th>
  </tr>
  </thead>
  <tbody>
  {% for task in task_list %}
    <tr>
      <td>{{ task.id }}</td>
      <td>
        <a href="{% url 'drones:task-detail' task.id %}">
          {{ task.name }}
        </a>
      </td>
      <td>{{ task.deadline }}</td>
      <td>{{ task.is_done|yesno:"✔,✖" }}</td>
      <td>
        <a
            href="{% url 'drones:task-update' task.id %}"
            class="btn btn-sm btn-warning">
          Edit
        </a>
        <a
            href="{% url 'drones:task-delete' task.id %}"
            class="btn btn-sm btn-danger">
          Delete
        </a>
      </td>
    </tr>
  {% empty %}
    <tr>
      <td colspan="5">
        No tasks found.
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>

  {% include "includes/pagination.html" %}
{% endblock %}
